{
  "profiles": [
    {
      "name": "main",
      "commands": [
        {
          "name": "build",
          "execute": ["aux4 builder all"],
          "help": { "text": "Build for all platforms" }
        },
        {
          "name": "builder",
          "execute": ["profile:builder"],
          "help": { "text": "Platform-specific builds" }
        }
      ]
    },
    {
      "name": "builder",
      "commands": [
        {
          "name": "darwin",
          "execute": [
            "cd ${packageDir} && GOOS=darwin GOARCH=amd64 go build -o package/dist/darwin/amd64/aux4-cron .",
            "cd ${packageDir} && GOOS=darwin GOARCH=arm64 go build -o package/dist/darwin/arm64/aux4-cron ."
          ],
          "help": { "text": "Build for macOS" }
        },
        {
          "name": "linux",
          "execute": [
            "cd ${packageDir} && GOOS=linux GOARCH=amd64 go build -o package/dist/linux/amd64/aux4-cron .",
            "cd ${packageDir} && GOOS=linux GOARCH=arm64 go build -o package/dist/linux/arm64/aux4-cron .",
            "cd ${packageDir} && GOOS=linux GOARCH=386 go build -o package/dist/linux/386/aux4-cron ."
          ],
          "help": { "text": "Build for Linux" }
        },
        {
          "name": "windows",
          "execute": [
            "cd ${packageDir} && GOOS=windows GOARCH=amd64 go build -o package/dist/windows/amd64/aux4-cron.exe .",
            "cd ${packageDir} && GOOS=windows GOARCH=arm64 go build -o package/dist/windows/arm64/aux4-cron.exe .",
            "cd ${packageDir} && GOOS=windows GOARCH=386 go build -o package/dist/windows/386/aux4-cron.exe ."
          ],
          "help": { "text": "Build for Windows" }
        },
        {
          "name": "all",
          "execute": [
            "aux4 builder darwin",
            "aux4 builder linux",
            "aux4 builder windows",
            "chmod -R +x package/dist/*"
          ],
          "help": { "text": "Build for all platforms" }
        }
      ]
    }
  ]
}
